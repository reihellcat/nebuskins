{"version":3,"sources":["App.js","index.js"],"names":["App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","activeStory","activeModal","modalHistory","modalBack","setActiveModal","length","onStoryChange","bind","assertThisInitialized","e","setState","currentTarget","dataset","story","toConsumableArray","indexOf","splice","push","_this2","es6","money_transfer_outline_default","a","react_default","createElement","tabbar","onClick","selected","data-story","text","newsfeed_outline_default","add_square_outline_default","info_outline_default","id","activePanel","size","description","before","src","bottomContent","add_default","mode","flash_default","href","profile_default","asideContent","disabled","React","Component","bridge","send","group_id","root","document","getElementById","platform","IOS","mVKMiniAppsScrollHelper","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.c0cceb53.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport { View, Panel, PanelHeader, Epic, Tabbar, TabbarItem, Cell, Button, Avatar, ModalCard, ModalRoot, Div, Separator, InfoRow, Switch } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport Icon28NewsfeedOutline from '@vkontakte/icons/dist/28/newsfeed_outline';\r\nimport Icon28AddSquareOutline from '@vkontakte/icons/dist/28/add_square_outline';\r\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\r\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\r\nimport Icon56MoneyTransferOutline from '@vkontakte/icons/dist/56/money_transfer_outline';\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\nimport Icon28Profile from '@vkontakte/icons/dist/28/profile';\r\n\r\n\r\nconst MODAL_CARD_MONEY_SEND = 'money-send';\r\nclass App extends React.Component {\r\n\tconstructor (props) {\r\n\t  super(props);\r\n  \r\n\t  this.state = {\r\n\t\tactiveStory: 'feed',\r\n\t\tactiveModal: null,\r\n        modalHistory: []\r\n    };\r\n\t\r\n\r\n  \r\n\t  this.modalBack = () => {\r\n\t\tthis.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n\t  };\r\n\t\r\n\r\n\t  this.onStoryChange = this.onStoryChange.bind(this);\r\n\t}\r\n  \r\n\tonStoryChange (e) {\r\n\t  this.setState({ activeStory: e.currentTarget.dataset.story })\r\n\t}\r\n  \r\n\tsetActiveModal(activeModal) {\r\n\t\tactiveModal = activeModal || null;\r\n\t\tlet modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n\t\r\n\t\tif (activeModal === null) {\r\n\t\t  modalHistory = [];\r\n\t\t} else if (modalHistory.indexOf(activeModal) !== -1) {\r\n\t\t  modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n\t\t} else {\r\n\t\t  modalHistory.push(activeModal);\r\n\t\t}\r\n\t\r\n\t\tthis.setState({\r\n\t\t  activeModal,\r\n\t\t  modalHistory\r\n\t\t});\r\n\t  };\r\n\t\r\n\t  \r\n\t\r\n\r\n\trender () {\r\n\t\tconst modal = (\r\n<ModalRoot activeModal={this.state.activeModal}>\r\n\t  <ModalCard\r\n\tid={MODAL_CARD_MONEY_SEND}\r\n\tonClose={() => this.setActiveModal(null)}\r\n\ticon={<Icon56MoneyTransferOutline />}\r\n\theader=\"Отправляйте деньги друзьям, используя банковскую карту\"\r\n\tcaption=\"Номер карты получателя не нужен — он сам решит, куда зачислить средства.\"\r\n\tactions={[{\r\n\t  title: 'Попробовать',\r\n\t  mode: 'primary',\r\n\t  action: () => {\r\n\t\tbridge.send(\"VKWebAppJoinGroup\", {\"group_id\": 150418851});\r\n\t  }\r\n\t}]}>\r\n\t</ModalCard>\r\n\t</ModalRoot>\r\n\t\t)\r\n  \r\n\t  return (\r\n\t\t<Epic activeStory={this.state.activeStory} tabbar={\r\n\t\t  <Tabbar>\r\n\t\t\t<TabbarItem\r\n\t\t\t  onClick={this.onStoryChange}\r\n\t\t\t  selected={this.state.activeStory === 'feed'}\r\n\t\t\t  data-story=\"feed\"\r\n\t\t\t  text=\"Новости\"\r\n\t\t\t><Icon28NewsfeedOutline /></TabbarItem>\r\n\t\t\t<TabbarItem\r\n\t\t\t  onClick={this.onStoryChange}\r\n\t\t\t  selected={this.state.activeStory === 'add_skin'}\r\n\t\t\t  data-story=\"add_skin\"\r\n\t\t\t  text=\"Предложить\"\r\n\t\t\t><Icon28AddSquareOutline /></TabbarItem>\r\n\t\t\t<TabbarItem\r\n\t\t\t  onClick={this.onStoryChange}\r\n\t\t\t  selected={this.state.activeStory === 'settings'}\r\n\t\t\t  data-story=\"settings\"\r\n\t\t\t  text=\"О нас\"\r\n\t\t\t><Icon28InfoOutline /></TabbarItem>\r\n\t\t  </Tabbar>\r\n\t\t}>\r\n\t\t  <View id=\"feed\" activePanel=\"feed\">\r\n\t\t\t<Panel id=\"feed\">\r\n\t\t\t  <PanelHeader>Главная</PanelHeader>\r\n\t\t\t  <Cell\r\n          size=\"l\"\r\n          description=\"Группа сервиса\"\r\n          before={<Avatar src=\"https://sun9-24.userapi.com/c856520/v856520080/13a615/MOxzZ-wuRFM.jpg\"/>}\r\n          bottomContent={<Button before={<Icon16Add/>} onClick={() => this.setActiveModal(MODAL_CARD_MONEY_SEND)}>Вступить</Button>}>Nebulous</Cell>\r\n\t\t\t</Panel>\r\n\t\t  </View>\r\n\t\t  <View id=\"add_skin\" activePanel=\"add_skin\">\r\n\t\t\t<Panel id=\"add_skin\">\r\n\t\t\t  <PanelHeader>Предложить</PanelHeader>\r\n\t\t\t</Panel>\r\n\t\t  </View>\r\n\t\t  <View id=\"settings\" activePanel=\"settings\">\r\n\t\t\t<Panel id=\"settings\">\r\n\t\t\t  <PanelHeader>О нас</PanelHeader>\r\n\t\t\t  <Div>\r\n\t\t\t<Button mode=\"tertiary\" before={<Icon24Flash />} href=\"https://vk.com/nebulous\" >Группа ВКонтакте</Button>\r\n\t\t\t  </Div>\r\n\t\t\t  <Separator/>\r\n\t\t\t  <Div>\r\n\t\t\t  <Cell before={<Icon28InfoOutline />} description=\"Версия 1.0 (alpha)\">Информация</Cell>\r\n        </Div>\r\n\t\t<Separator />\r\n\t\t<Div>\r\n\t<Cell before={<Icon28Profile />} asideContent={<Switch disabled />} description=\"Недоступно\">Темная тема</Cell>\r\n\t\t\t</Div>\r\n\t\t\t</Panel>\r\n\t\t\t</View>\r\n\t\t</Epic>\r\n\t  )\r\n\t}\r\n  }\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport connect from \"@vkontakte/vk-connect\";\r\nimport App from \"./App\";\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\r\nimport {platform, IOS} from '@vkontakte/vkui';\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\nbridge.send(\"VKWebAppJoinGroup\", {\"group_id\": 150418851});\r\nbridge.send('VKWebAppInit', {}); // Запусааем приложение\r\nconst root = document.getElementById('root');\r\nif(platform() === IOS) {\r\n    mVKMiniAppsScrollHelper(root); // Добавляем скролхелпер для Safari\r\n}\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}