{"version":3,"sources":["firebase.js","panels/NewApp/Home.js","panels/NewApp/TestFeed.js","panels/NewApp/Settings.js","panels/NewApp/AddSkin.js","panels/AddSkin/ImageUploaderSkins.js","panels/NewApp/AddSkinForm.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Home","_ref","id","go","fetchedUser","react_default","a","createElement","es6","left","onClick","data-to","settings_default","title","before","photo_200","src","description","concat","first_name","last_name","disabled","size","level","header","mode","gallery_default","ghost_outline_default","width","height","favorite_outline_default","attachments_default","write_outline_default","TestFeed","main_skin","map","skin","key","style","blockSize","marginBottom","image","Fragment","nickname","subheader","player_id","category","Settings","UpdateTheme","flash_default","href","palette_outline_default","AddSkin","weight","textAlign","ImageUploaderSkins","state","imageURL","progress","handleUploadStart","_this","setState","handleUploadSuccess","filename","storage","ref","child","getDownloadURL","then","url","lib_default","accept","name","storageRef","onUploadStart","this","onUploadSuccess","value","React","Component","AddSkinForm","maxLength","top","placeholder","type","AddSkin_ImageUploaderSkins","App","_useState","useState","_useState2","Object","slicedToArray","activePanel","setActivePanel","_useState3","_useState4","setUser","_useState5","_useState6","scheme","SetScheme","useEffect","_fetchData","asyncToGenerator","regenerator_default","mark","_callee","user","wrap","_context","prev","next","bridge","send","sent","stop","apply","arguments","fetchData","subscribe","_ref$detail","detail","data","_React$useState","_React$useState2","setSkins","_ref2","_callee2","db","_context2","firestore","collection","get","docs","doc","e","currentTarget","dataset","to","NewApp_Home","NewApp_TestFeed","NewApp_Settings","connect","status_bar_style","action_bar_color","NewApp_AddSkin","NewApp_AddSkinForm","root","document","getElementById","platform","IOS","mVKMiniAppsScrollHelper","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.e785c021.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyDXd6SmSqgk9QuQ1iinE3H4pllVQeHU6l4\",\r\n    authDomain: \"nebuskins-app.firebaseapp.com\",\r\n    databaseURL: \"https://nebuskins-app.firebaseio.com\",\r\n    projectId: \"nebuskins-app\",\r\n    storageBucket: \"nebuskins-app.appspot.com\",\r\n    messagingSenderId: \"187465077436\",\r\n    appId: \"1:187465077436:web:31c639de854663bc3bf6b9\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(config);\r\n  \r\n\r\n  export default firebase;\r\n ","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, Button, CellButton, Group, Cell, Div, Avatar, Header, PanelHeaderButton, Text} from '@vkontakte/vkui';\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\n\r\nimport Icon28GhostOutline from '@vkontakte/icons/dist/28/ghost_outline';\r\nimport Icon24Attachments from '@vkontakte/icons/dist/24/attachments';\r\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\r\nimport Icon24Gallery from '@vkontakte/icons/dist/24/gallery';\r\nimport Icon24FavoriteOutline from '@vkontakte/icons/dist/24/favorite_outline';\r\nimport Icon28WriteOutline from '@vkontakte/icons/dist/28/write_outline';\r\n\r\nconst Home = ({ id, go, fetchedUser }) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader left={<PanelHeaderButton onClick={go} data-to=\"settings\" ><Icon24Settings/></PanelHeaderButton>}>Каталог скинов</PanelHeader>\r\n\t\t{fetchedUser &&\r\n\t\t<Group title=\"User Data Fetched with VK Bridge\">\r\n\t\t\t<Cell\r\n\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\r\n\t\t\t\tdescription=\"Добро пожаловать!\"\r\n\t\t\t>\r\n\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\r\n\t\t\t</Cell>\r\n\t\t</Group>}\r\n\r\n\t\t<Group title=\"Navigation Example\">\r\n\t\t\t<Div>\r\n\t\t\t\t<Button disabled size=\"xl\" level=\"2\" onClick={go} data-to=\"persik\">\r\n\t\t\t\t\tПока ничего не делает\r\n\t\t\t\t</Button>\r\n\t\t\t</Div>\r\n\t\t</Group>\r\n    <Group header={<Header mode=\"secondary\">Выберите категорию</Header>}>\r\n      <CellButton onClick={go} data-to=\"def_skins\" before={<Icon24Gallery />}>Обычные скины</CellButton>\r\n      <CellButton before={<Icon28GhostOutline width={24} height={24} />}>Питомцы</CellButton>\r\n      <CellButton before={<Icon24FavoriteOutline />}>Частицы</CellButton>\r\n\t  <CellButton before={<Icon24Attachments />}>Собственный фон</CellButton>\r\n    </Group>\r\n\t<Group>\r\n      <CellButton onClick={go} data-to=\"add_skin\" before={<Icon28WriteOutline  width={24} height={24} />}>Предложить скин</CellButton>\r\n    </Group>\r\n\t</Panel>\r\n);\r\n\r\nHome.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t}),\r\n};\r\n\r\nexport default Home;","import React from 'react';\r\nimport firebase from 'firebase';\r\nimport PropTypes from 'prop-types';\r\nimport { Div, Avatar, Banner, PanelHeader, Panel, PanelHeaderBack } from '@vkontakte/vkui';\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\n\r\n\r\n\r\nconst TestFeed = ({ id, go, main_skin}) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader left={<PanelHeaderBack onClick={go} data-to=\"home\"/>}>Обычные скины</PanelHeader>\r\n {main_skin.map(skin => (\r\n<Div key={skin.id}>\r\n <Banner style={{ blockSize: 80, marginBottom: 30 }} size=\"l\"\r\n        before={<Avatar size={96} mode=\"image\" src={skin.image} />}\r\n        header={<React.Fragment>Предложил: {skin.nickname}</React.Fragment>}\r\n        subheader={<React.Fragment>ID игрока: {skin.player_id}<br/>Категория: {skin.category}</React.Fragment>}\r\n              />\r\n</Div>\r\n))}\r\n\t</Panel>\r\n);\r\n\r\n\r\nTestFeed.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tmain_skin: PropTypes.func.isRequired\r\n};\r\n\r\nexport default TestFeed;","import React from 'react';\r\nimport firebase from 'firebase';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar, Group, Header, Switch, PanelHeader, Panel, Cell, PanelHeaderBack, CellButton } from '@vkontakte/vkui';\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\nimport Icon16PaletteOutline from '@vkontakte/icons/dist/16/palette_outline';\r\n\r\n\r\n\r\nconst Settings = ({ id, go, fetchedUser, UpdateTheme }) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader left={<PanelHeaderBack onClick={go} data-to=\"home\"/>}>Настройки</PanelHeader>\r\n\t\t{fetchedUser &&\r\n\t\t<Group title=\"User Data Fetched with VK Bridge\">\r\n\t\t\t<Cell\r\n\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\r\n\t\t\t\tdescription=\"Текущий аккаунт\"\r\n\t\t\t>\r\n\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\r\n\t\t\t</Cell>\r\n\t\t</Group>}\r\n\t\t<Group>\r\n\t\t<CellButton size=\"x1\" before={<Icon24Flash width={28} height={28} />} href=\"https://vk.com/nebulous\" >Группа ВКонтакте</CellButton>\r\n\t\t</Group>\r\n\t\t<Group header={<Header mode=\"secondary\">Внешний вид</Header>}>\r\n\t\t<Cell before={<Icon16PaletteOutline width={28} height={28}/>} onClick={() => UpdateTheme()}>\r\n          Сменить тему\r\n        </Cell>\r\n\t\t</Group>\r\n</Panel>\r\n);\r\n\r\nSettings.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tUpdateTheme: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n  }),\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport PropTypes from 'prop-types';\r\nimport { Text, Title, View, Tappable, IS_PLATFORM_ANDROID, Panel, PanelHeader, PanelHeaderBack, Div, Placeholder, Button, ModalRoot, PanelHeaderButton, ModalPage, ModalPageHeader, Link } from '@vkontakte/vkui';\r\n\r\nimport Icon28PictureStackOutline from '@vkontakte/icons/dist/28/picture_stack_outline';\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\n\r\n\r\nconst AddSkin = ({ id, go}) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader left={<PanelHeaderBack onClick={go} data-to=\"home\"/>}>Предложить скин</PanelHeader>\r\n    <Div>\r\n   <Title level=\"1\" weight=\"semibold\" style={{ marginBottom: 16, textAlign: 'center' }}>Привет!</Title>\r\n   <Text weight=\"medium\" style={{ marginBottom: 16, textAlign: 'center' }}>\r\n    Здесь ты можешь предложить свой скин!\r\n    Владелец каждого скина, который будет принят в каталог приложения получит от 2,500 до 5,000        \r\n    плазмы от администраторов сообщества Nebulous.\r\n    </Text>\r\n    </Div>\r\n    <Div>\r\n    <Text weight=\"medium\" style={{ marginBottom: 16, textAlign: 'center' }}>\r\n      Перед тем как отправить свой скин, прочтите <Link href=\"https://vk.com/topic-95380950_37955743\">правила</Link>, чтобы Ваш скин не был отклонен.\r\n   </Text>\r\n   <Button onClick={go} data-to=\"add_skin_form\" size=\"xl\" mode=\"commerce\">Предложить скин</Button>\r\n    </Div>\r\n\t</Panel>\r\n);\r\n\r\n\r\nAddSkin.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\n// class AddSkin extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n\r\n//     this.state = {\r\n//       activeModal: null,\r\n//       modalHistory: []\r\n//     };\r\n\r\n//     this.modalBack = () => {\r\n//       this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n//     };\r\n//   }\r\n  \r\n\r\n//   setActiveModal(activeModal) {\r\n//     activeModal = activeModal || null;\r\n//     let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n\r\n//     if (activeModal === null) {\r\n//       modalHistory = [];\r\n//     } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n//       modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n//     } else {\r\n//       modalHistory.push(activeModal);\r\n//     }\r\n\r\n//     this.setState({\r\n//       activeModal,\r\n//       modalHistory\r\n//     });\r\n//   };\r\n    \r\n\r\n//   render() {\r\n//    const modal = (\r\n//       <ModalRoot\r\n//         activeModal={this.state.activeModal}\r\n//         onClose={this.modalBack}>\r\n//           <ModalPage\r\n//           id={MODAL_PAGE_SUBMIT}\r\n//           onClose={this.modalBack}\r\n//           header={\r\n//             <ModalPageHeader\r\n//               left={IS_PLATFORM_ANDROID && <PanelHeaderButton onClick={this.modalBack}><Icon24Cancel /></PanelHeaderButton>}\r\n//               right={<PanelHeaderButton  onClick={this.modalBack}> <Icon24Done /></PanelHeaderButton>}\r\n//             >\r\n//               Предложить\r\n//             </ModalPageHeader>\r\n//           }> \r\n//           <AddSkinForm/>\r\n//          </ModalPage>\r\n//         </ModalRoot>\r\n//    );\r\n//       return (\r\n//           <View  id=\"add_skin\" activePanel=\"add_skin\" modal={modal}>\r\n//           <Panel id=\"add_skin\">\r\n//             <Tappable onClick={this.eruda}>\r\n//             <PanelHeader>Предложить</PanelHeader>\r\n//             </Tappable>\r\n//             <Div>\r\n//         <Placeholder\r\n//           icon={<Icon28PictureStackOutline width={128} height={128} />}\r\n//           header=\"Предложить свой скин\"\r\n//   action={<Button onClick={() => this.setActiveModal(MODAL_PAGE_SUBMIT)} mode=\"commerce\" size=\"l\">Предложить скин</Button>}\r\n//           >\r\n//           <h4>Привет! В данном разделе ты можешь предложить свой собственный скин для каталога приложения!\r\n//           Владелец каждого скина, который будет принят в каталог приложения получит от 2,500 до 5,000\r\n//           плазмы от администраторов сообщества Nebulous.</h4>\r\n//         </Placeholder>\r\n//         </Div>\r\n//           </Panel>\r\n//         </View>\r\n       \r\n//         )\r\n//       }\r\n//     }\r\n\r\nexport default AddSkin;","import React from 'react';\r\nimport {View, Progress, File, Div} from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport FileUploader from 'react-firebase-file-uploader';\r\nimport firebase from 'firebase';\r\n\r\n\r\nclass ImageUploaderSkins extends React.Component {\r\n    \r\n    state = {\r\n     image: '',\r\n     imageURL: '',\r\n     progress: 0\r\n}\r\n\r\nhandleUploadStart = () => {\r\n    \r\n    this.setState({\r\n        progress: 0\r\n    })\r\n}\r\n\r\nhandleUploadSuccess = filename => {\r\n    this.setState({\r\n        image: filename,\r\n        progress: 100\r\n    })\r\n\r\n    firebase.storage().ref('avatars').child(filename).getDownloadURL()\r\n    .then(url => this.setState({\r\n        imageURL: url\r\n    }))\r\n\r\n}\r\n\r\nrender() {\r\n    return (\r\n        <View id=\"file_uploader\">\r\n            <Div>\r\n        <FileUploader\r\n            accept=\"image/*\" \r\n            name='image'\r\n            storageRef={firebase.storage().ref('avatars')}\r\n            onUploadStart={this.handleUploadStart}\r\n            onUploadSuccess={this.handleUploadSuccess}\r\n            />\r\n</Div>\r\n<Div>\r\n        <Progress \r\n            value={this.state.progress}/>\r\n</Div>\r\n</View>\r\n    )\r\n}\r\n}\r\n\r\nexport default ImageUploaderSkins;\r\n","import React from 'react';\r\nimport firebase from 'firebase';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Div, Input, Select, File, Checkbox, Link, FormLayout, PanelHeaderBack, PanelHeader, Panel } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\n\r\nimport ImageUploaderSkins from '../AddSkin/ImageUploaderSkins';\r\n\r\n\r\nconst AddSkinForm = ({ id, go}) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader left={<PanelHeaderBack onClick={go} data-to=\"add_skin\"/>}>Обычные скины</PanelHeader>\r\n        <Div>\r\n         <FormLayout>\r\n            <Input maxLength=\"16\" top=\"Введите ваш никнейм\" placeholder=\"Paykan, hellcat, Legenda, Elly, Metalcore\"/>\r\n            <Input  maxLength=\"8\" top=\"Введите ваш игровой ID\" type=\"tel\" placeholder=\"5562478\"/>\r\n            <Select  top=\"Категория\" placeholder=\"Выберите категорию скина\">\r\n              <option value=\"Обычные скины\">Обычные скины</option>\r\n             <option value=\"Питомцы\">Питомцы</option>\r\n              <option value=\"Частицы\">Частицы</option>\r\n            </Select>\r\n            <ImageUploaderSkins/>\r\n             <File type='image' top=\"Загрузите фото скина\" size=\"l\">Открыть галерею</File>\r\n             <Checkbox >Я согласен со всем, что вы <Link>там</Link> понаписали</Checkbox>\r\n             <Button  size=\"xl\"  >Отправить</Button>\r\n             </FormLayout>\r\n </Div>\r\n\t</Panel>\r\n)\r\n\r\nAddSkinForm.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nexport default AddSkinForm;\r\n\r\n// function AddSkinForm() {\r\n//     const [skins, setSkins] = React.useState([])\r\n//     const [newSkinNickname, setNewSkinNickname] = React.useState()\r\n//     const [newPlayerID, setNewPlayerID] = React.useState()\r\n//     const [newCategory, setNewCategory] = React.useState()\r\n    \r\n\r\n//     React.useEffect(() => {\r\n//         const fetchData = async () => {\r\n//             const db = firebase.firestore()\r\n//             const data = await db.collection(\"skins\").get()\r\n//             setSkins(data.docs.map(doc => doc.data()))\r\n//         }\r\n//         fetchData()\r\n//     }, [])\r\n\r\n   \r\n//     return (\r\n//         <Div>\r\n//         <FormLayout>\r\n//             <Input status={ newSkinNickname ? 'valid' : 'error'} maxLength=\"16\" top=\"Введите ваш никнейм\" placeholder=\"Paykan, hellcat, Legenda, Elly, Metalcore\" value={newSkinNickname} onChange={(e) => setNewSkinNickname(e.target.value)}/>\r\n//             <Input status={ newPlayerID ? 'valid' : 'error'} maxLength=\"8\" top=\"Введите ваш игровой ID\" type=\"tel\" placeholder=\"5562478\" value={newPlayerID} onChange={(e) => setNewPlayerID(e.target.value)}/>\r\n//             <Select status={ newCategory ? 'valid' : 'error'} top=\"Категория\" placeholder=\"Выберите категорию скина\" value={newCategory} onChange={(e) => setNewCategory(e.target.value)} >\r\n//               <option value=\"Обычные скины\">Обычные скины</option>\r\n//               <option value=\"Питомцы\">Питомцы</option>\r\n//               <option value=\"Частицы\">Частицы</option>\r\n//             </Select>\r\n//             <ImageUploaderSkins/>\r\n//             {/* <File type='image' top=\"Загрузите фото скина\" size=\"l\">Открыть галерею</File> */}\r\n//             <Checkbox >Я согласен со всем, что вы <Link>там</Link> понаписали</Checkbox>\r\n//             <Button status={ newCategory ? 'active' : 'disabled'} size=\"xl\" onClick={onCreate}  >Отправить</Button>\r\n//             </FormLayout>\r\n// </Div>\r\n//     );\r\n// }","import React, { useState, useEffect } from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport {View, ConfigProvider} from '@vkontakte/vkui';\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\nimport firebase from './firebase';\r\n\r\nimport Home from './panels/NewApp/Home';\r\nimport TestFeed from './panels/NewApp/TestFeed';\r\nimport Settings from './panels/NewApp/Settings';\r\nimport AddSkin from './panels/NewApp/AddSkin';\r\nimport AddSkinForm from './panels/NewApp/AddSkinForm';\r\n\r\nconst App = () => {\r\n\tconst [activePanel, setActivePanel] = useState('home');\r\n  const [fetchedUser, setUser] = useState(null);\r\n  const [scheme, SetScheme] = useState(\"space_gray\");\r\n\r\n\tuseEffect(() => {\r\n\t\t// bridge.subscribe(({ detail: { type, data }}) => {\r\n\t\t// \tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t// \t\tconst schemeAttribute = document.createAttribute('scheme');\r\n\t\t// \t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\n\t\t// \t\tdocument.body.attributes.setNamedItem(schemeAttribute);\r\n\t\t// \t}\r\n\t\t// });\r\n\t\tasync function fetchData() {\r\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\r\n\t\t\tsetUser(user);\r\n\t\t}\r\n\t\tfetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    bridge.subscribe(({ detail: { type, data }}) => {\r\n    if (type === 'VKWebAppUpdateConfig') {\r\n      SetScheme(data.scheme)\r\n    }\r\n  });\r\n  }, []);\r\n\r\n\r\n  function UpdateTheme() {\r\n    if(scheme === \"bright_light\" || scheme === \"client_light\") {\r\n      SetScheme('space_gray');\r\n      connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#000\"});\r\n    }\r\n    else if(scheme === \"space_gray\" || scheme === \"client_dark\"){\r\n      SetScheme('bright_light');\r\n      connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\"});\r\n    }\r\n}\r\n\r\n   const [main_skin, setSkins] = React.useState([])\r\n\r\n    React.useEffect(() => {\r\n        const fetchData = async () => {\r\n            const db = firebase.firestore()\r\n            const data = await db.collection(\"skins\").get()\r\n            setSkins(data.docs.map(doc => doc.data()))\r\n        }\r\n        fetchData()\r\n    }, [])\r\n  \r\n\r\n\r\n\r\n\tconst go = e => {\r\n\t\tsetActivePanel(e.currentTarget.dataset.to);\r\n\t};\r\n\r\n\treturn (\r\n    <ConfigProvider scheme={scheme} >\r\n\t\t<View activePanel={activePanel}>\r\n\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\r\n\t\t\t<TestFeed id='def_skins' main_skin={main_skin} go={go} />\r\n      <Settings id=\"settings\" UpdateTheme={UpdateTheme} fetchedUser={fetchedUser} go={go} />\r\n      <AddSkin id=\"add_skin\" go={go}/>\r\n      <AddSkinForm id=\"add_skin_form\"   go={go} />\r\n\t\t</View>\r\n    </ConfigProvider>\r\n\t);\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\r\nimport {platform, IOS} from '@vkontakte/vkui';\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\nbridge.send('VKWebAppInit', {}); // Запусааем приложение\r\nconst root = document.getElementById('root');\r\nif(platform() === IOS) {\r\n    mVKMiniAppsScrollHelper(root); // Добавляем скролхелпер для Safari\r\n}\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}