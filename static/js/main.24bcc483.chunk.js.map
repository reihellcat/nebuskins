{"version":3,"sources":["panels/Settings.js","panels/AddSkin.js","panels/Feed.js","App.js","index.js"],"names":["Settings","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","activeStory","scheme","popout","openTheme","bind","assertThisInitialized","openNotifications","UpdateTheme","_this2","connect","subscribe","_ref","_ref$detail","detail","type","data","setState","send","status_bar_style","action_bar_color","_this3","react_default","a","createElement","es6","onClose","before","notification_check_outline_default","width","height","onClick","bridge","autoclose","notification_disable_outline_default","platform","IOS","mode","_this4","graffiti_default","id","activePanel","size","flash_default","href","info_outline_default","description","asideContent","chevron_right_outline_default","palette_outline_default","notifications_default","React","Component","AddSkin","activeModal","modalHistory","purpose","onChange","modalBack","setActiveModal","length","toConsumableArray","indexOf","splice","push","e","_e$currentTarget","currentTarget","name","value","defineProperty","modal","header","left","IS_PLATFORM_ANDROID","cancel_default","right","IS_PLATFORM_IOS","done_default","top","placeholder","status","bottom","icon","picture_stack_outline_default","action","Feed","slideIndex","src","bottomContent","add_default","group_id","disabled","smile_default","App","text","history","onStoryChange","dataset","story","onThemeChange","tabbar","selected","data-story","newsfeed_outline_default","add_square_outline_default","panels_Feed","panels_AddSkin","panels_Settings","root","document","getElementById","mVKMiniAppsScrollHelper","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.24bcc483.chunk.js","sourcesContent":["import React from 'react';\r\nimport { View, Panel, PanelHeader, Div, Cell,\r\n         CellButton, Separator, ConfigProvider, \r\n         ActionSheet, ActionSheetItem } from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport {platform, IOS} from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\nimport Icon16PaletteOutline from '@vkontakte/icons/dist/16/palette_outline';\r\nimport Icon28Notifications from '@vkontakte/icons/dist/28/notifications';\r\nimport Icon28ChevronRightOutline from '@vkontakte/icons/dist/28/chevron_right_outline';\r\nimport Icon28NotificationDisableOutline from '@vkontakte/icons/dist/28/notification_disable_outline';\r\nimport Icon24NotificationCheckOutline from '@vkontakte/icons/dist/24/notification_check_outline';\r\nimport Icon32Graffiti from '@vkontakte/icons/dist/32/graffiti';\r\n\r\n\r\nclass Settings extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props);\r\n   \r\n        this.state = {\r\n          activeStory: 'settings',\r\n          scheme: \"bright_light\",\r\n          popout: null,\r\n      };\r\n     \r\n   \r\n        this.openTheme = this.openTheme.bind(this);\r\n        this.openNotifications = this.openNotifications.bind(this);\r\n        this.UpdateTheme = this.UpdateTheme.bind(this);\r\n      }\r\n   \r\n        componentDidMount() {\r\n          connect.subscribe(({ detail: { type, data }}) => { \r\n              if (type === 'VKWebAppUpdateConfig') {\r\n                  this.setState({scheme: data.scheme})\r\n              }\r\n          })\r\n      }\r\n\r\n\r\n      UpdateTheme() {\r\n          if(this.state.scheme === \"bright_light\" || this.state.scheme === \"client_light\"){ // Если в стейте эти темы:\r\n              this.setState({scheme: 'space_gray'}); // меняем тему на альтернативную.\r\n              connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#000\"}); // Устанавливаем цвет статус бара на белый и экшен бара на черный.\r\n      } else if(this.state.scheme === \"space_gray\" || this.state.scheme === \"client_dark\") {\r\n              this.setState({scheme: 'bright_light'}); // меняем тему на альтернативную.\r\n              connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\"}); // Устанавливаем цвет статус бара на черный и экшен бара на белый.\r\n          }\r\n      }\r\n   \r\n      openNotifications () {\r\n          this.setState({ popout:\r\n            <ActionSheet onClose={() => this.setState({ popout: null })}>\r\n              <ActionSheetItem before={<Icon24NotificationCheckOutline width={28} height={28}/>}\r\n                                               onClick={() => bridge.send(\"VKWebAppAllowNotifications\", {})}\r\n                                                autoclose>\r\n                Включить\r\n              </ActionSheetItem>\r\n              <ActionSheetItem before={<Icon28NotificationDisableOutline/>}\r\n                             onClick={() => bridge.send(\"VKWebAppDenyNotifications\", {})} autoclose>\r\n                Отключить\r\n              </ActionSheetItem>\r\n              {platform() === IOS && <ActionSheetItem autoclose mode=\"cancel\">Закрыть</ActionSheetItem>}\r\n            </ActionSheet>\r\n             \r\n          });\r\n          }\r\n         \r\n          openTheme () {\r\n              this.setState({ popout:\r\n              <ActionSheet onClose={() => this.setState({ popout: null })}>\r\n                  <ActionSheetItem before={<Icon32Graffiti width={28} height={28}/>} onClick={this.UpdateTheme} autoclose>\r\n                  Сменить тему\r\n                  </ActionSheetItem>\r\n                  {platform() === IOS && <ActionSheetItem autoclose mode=\"cancel\">Закрыть</ActionSheetItem>}\r\n              </ActionSheet>\r\n              });\r\n          }\r\n\r\nrender() {\r\n    return (\r\n<ConfigProvider scheme={this.state.scheme}>\r\n<View popout={this.state.popout} id=\"settings\" activePanel=\"settings\" > \r\n<Panel id=\"settings\">\r\n  <PanelHeader>О нас</PanelHeader>\r\n  <Div>\r\n<CellButton size=\"x1\" before={<Icon24Flash width={28} height={28} />} href=\"https://vk.com/nebulous\" >Группа ВКонтакте</CellButton>\r\n  </Div>\r\n  <Separator/>\r\n  <Div>\r\n  <Cell before={<Icon28InfoOutline />} description=\"Версия 2504200204\">Информация</Cell>\r\n</Div>\r\n<Separator />\r\n<Div>\r\n<Cell asideContent={<Icon28ChevronRightOutline />} before={<Icon16PaletteOutline width={28} height={28}/>} onClick={this.openTheme} description=\"Доступные темы: Тёмная, Светлая\">Темы</Cell>\r\n<Cell asideContent={<Icon28ChevronRightOutline />} before={<Icon28Notifications />} description=\"Работают, но отключены\">Уведомления</Cell>\r\n</Div>\r\n</Panel>\r\n</View>\r\n</ConfigProvider>\r\n    )\r\n}\r\n}\r\nexport default Settings;\r\n","import React from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport { View, IS_PLATFORM_ANDROID, IS_PLATFORM_IOS, Input, Panel, PanelHeader, Div, Select, Placeholder, Button, ModalRoot, PanelHeaderButton, ModalPage, ModalPageHeader, FormLayout } from '@vkontakte/vkui';\r\n\r\nimport Icon28PictureStackOutline from '@vkontakte/icons/dist/28/picture_stack_outline';\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\n\r\nconst MODAL_PAGE_SUBMIT = 'add_skin_submit';\r\n\r\nclass AddSkin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      activeModal: null,\r\n      modalHistory: [],\r\n      purpose: ''\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n  \r\n\r\n    this.modalBack = () => {\r\n      this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n    };\r\n  }\r\n\r\n  setActiveModal(activeModal) {\r\n    activeModal = activeModal || null;\r\n    let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n\r\n    if (activeModal === null) {\r\n      modalHistory = [];\r\n    } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n      modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n    } else {\r\n      modalHistory.push(activeModal);\r\n    }\r\n\r\n    this.setState({\r\n      activeModal,\r\n      modalHistory\r\n    });\r\n  };\r\n    \r\n  onChange(e) {\r\n    const { name, value } = e.currentTarget;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  render() {\r\n    const { purpose } = this.state;\r\n   const modal = (\r\n      <ModalRoot\r\n        activeModal={this.state.activeModal}\r\n        onClose={this.modalBack}>\r\n          <ModalPage\r\n          id={MODAL_PAGE_SUBMIT}\r\n          onClose={this.modalBack}\r\n          header={\r\n            <ModalPageHeader\r\n              left={IS_PLATFORM_ANDROID && <PanelHeaderButton onClick={this.modalBack}><Icon24Cancel /></PanelHeaderButton>}\r\n              right={<PanelHeaderButton onClick={this.modalBack}>{IS_PLATFORM_IOS ? 'Готово' : <Icon24Done />}</PanelHeaderButton>}\r\n            >\r\n              Предложить скин\r\n            </ModalPageHeader>\r\n          }> \r\n          <FormLayout>\r\n            <Input top=\"Введите ваш никнейм\" />\r\n            <Input top=\"Введите ваш игровой ID\" />\r\n            <Select\r\n              top=\"Категория скина\"\r\n              placeholder=\"Выберите категорию скина\"\r\n              status={purpose ? 'valid' : 'error'}\r\n              bottom={purpose ? '' : 'Пожалуйста, укажите категорию скина'}\r\n              onChange={this.onChange}\r\n              value={purpose}\r\n              name=\"purpose\"\r\n            >\r\n              <option value=\"0\">Основные скины</option>\r\n              <option value=\"1\">Питомцы</option>\r\n              <option value=\"2\">Частицы</option>\r\n            </Select>\r\n            </FormLayout>\r\n         </ModalPage>\r\n        </ModalRoot>\r\n   );\r\n      return (\r\n          <View id=\"add_skin\" activePanel=\"add_skin\" modal={modal}>\r\n          <Panel id=\"add_skin\">\r\n            <PanelHeader>Предложить</PanelHeader>\r\n            <Div>\r\n        <Placeholder\r\n          icon={<Icon28PictureStackOutline width={128} height={128} />}\r\n          header=\"Предложить свой скин\"\r\n  action={<Button onClick={() => this.setActiveModal(MODAL_PAGE_SUBMIT)} mode=\"commerce\" size=\"l\">Предложить скин</Button>}\r\n          >\r\n          <h4>Привет! В данном разделе ты можешь предложить свой собственный скин для каталога приложения!\r\n          Владелец каждого скина, который будет принят в каталог приложения получит от 2,500 до 5,000\r\n          плазмы от администраторов сообщества Nebulous.</h4>\r\n        </Placeholder>\r\n        </Div>\r\n          </Panel>\r\n        </View>\r\n       \r\n        )\r\n      }\r\n    }\r\n\r\nexport default AddSkin;","import React from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport { View, Panel, PanelHeader, Button, Cell, Avatar, Div, Placeholder, Separator, Gallery, Group, Header, Counter, FormLayout } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\r\nimport Icon24Smile from '@vkontakte/icons/dist/24/smile';\r\n\r\n\r\nclass Feed extends React.Component {\r\n    constructor (props) {\r\n\r\n        super(props);\r\n  \r\n        this.state = {\r\n          slideIndex: 0\r\n        }\r\n      }\r\n    \r\nrender() {\r\n\r\n    return (\r\n\r\n<View id=\"feed\"  activePanel=\"feed\">\r\n<Panel id=\"feed\">\r\n  <PanelHeader>Главная</PanelHeader>\r\n  <Cell\r\nsize=\"l\"\r\ndescription=\"Группа сервиса\"\r\nbefore={<Avatar src=\"https://sun9-24.userapi.com/c856520/v856520080/13a615/MOxzZ-wuRFM.jpg\"/>}\r\nbottomContent={<Button before={<Icon16Add/>} onClick={() => bridge.send(\"VKWebAppJoinGroup\", {\"group_id\": 95380950})}disabled>Вступить</Button>} >Nebulous</Cell>\r\n<Div>\r\n<Placeholder\r\n             action={<Button before={<Icon24Smile/>} href=\"https://vk.com/nebulous\" size=\"l\">Группа разработчиков</Button>}>\r\n          <img src=\"https://vk.com/sticker/1-20227-256\" />\r\n        </Placeholder>\r\n        </Div>\r\n</Panel>\r\n</View>\r\n    )\r\n}\r\n}\r\nexport default Feed;","import React from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport { Epic, Tabbar, TabbarItem, ConfigProvider } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n \r\nimport Icon28NewsfeedOutline from '@vkontakte/icons/dist/28/newsfeed_outline';\r\nimport Icon28AddSquareOutline from '@vkontakte/icons/dist/28/add_square_outline';\r\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\r\n\r\nimport Settings from './panels/Settings';\r\nimport AddSkin from './panels/AddSkin';\r\nimport Feed from './panels/Feed';\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n    constructor (props) {\r\n      super(props);\r\n \r\n      this.state = {\r\n        activeStory: 'feed',\r\n        scheme: \"bright_light\",\r\n        text: '',\r\n        activePanel: 'settings', // Ставим начальную панель\r\n        history: ['settings']\r\n    };\r\n    this.onStoryChange = this.onStoryChange.bind(this);\r\n\t}\r\n \r\n    onStoryChange (e) {\r\n      this.setState({ activeStory: e.currentTarget.dataset.story })\r\n    }   \r\n\r\n    \r\n \r\n      componentDidMount() {\r\n        connect.subscribe(({ detail: { type, data }}) => { \r\n            if (type === 'VKWebAppUpdateConfig') { \r\n                this.setState({scheme: data.scheme})\r\n            }\r\n        })\r\n    }\r\n \r\n\r\n\r\n    UpdateTheme() {\r\n      if(this.state.scheme === \"bright_light\" || this.state.scheme === \"client_light\"){ // Если в стейте эти темы:\r\n          this.setState({scheme: 'space_gray'}); // меняем тему на альтернативную.\r\n          connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#000\"}); // Устанавливаем цвет статус бара на белый и экшен бара на черный.\r\n  } else if(this.state.scheme === \"space_gray\" || this.state.scheme === \"client_dark\") {\r\n          this.setState({scheme: 'bright_light'}); // меняем тему на альтернативную.\r\n          connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\"}); // Устанавливаем цвет статус бара на черный и экшен бара на белый.\r\n      }\r\n  }\r\n \r\n       \r\n    render () {\r\n\t\t\t \r\n\t\t\t\r\n \r\n      return (\r\n            <ConfigProvider scheme={this.onThemeChange}>\r\n        <Epic activeStory={this.state.activeStory} \r\n                 tabbar={\r\n          <Tabbar>\r\n            <TabbarItem\r\n              onClick={this.onStoryChange}\r\n              selected={this.state.activeStory === 'feed'}\r\n              data-story=\"feed\"\r\n              text=\"Главная\"\r\n            ><Icon28NewsfeedOutline /></TabbarItem>\r\n            <TabbarItem\r\n              onClick={this.onStoryChange}\r\n              selected={this.state.activeStory === 'add_skin'}\r\n              data-story=\"add_skin\"\r\n              text=\"Предложить\"\r\n            ><Icon28AddSquareOutline /></TabbarItem>\r\n            <TabbarItem\r\n              onClick={this.onStoryChange}\r\n              selected={this.state.activeStory === 'settings'}\r\n              data-story=\"settings\"\r\n              text=\"О нас\"\r\n            ><Icon28InfoOutline /></TabbarItem>\r\n          </Tabbar>\r\n        }>\r\n\t\t\t\t\t\t\t<Feed id=\"feed\"  />\r\n\t\t\t\t\t\t\t<AddSkin id=\"add_skin\"  />\r\n              <Settings id=\"settings\" this={this} scheme={this.onThemeChange} />\r\n        </Epic>\r\n    </ConfigProvider>  \r\n    )\r\n    }\r\n  }\r\nexport default App;\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport connect from \"@vkontakte/vk-connect\";\r\nimport App from \"./App\";\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\r\nimport {platform, IOS} from '@vkontakte/vkui';\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\nbridge.send('VKWebAppInit', {}); // Запусааем приложение\r\nconst root = document.getElementById('root');\r\nif(platform() === IOS) {\r\n    mVKMiniAppsScrollHelper(root); // Добавляем скролхелпер для Safari\r\n}\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}