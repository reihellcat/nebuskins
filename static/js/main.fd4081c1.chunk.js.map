{"version":3,"sources":["App.js","index.js"],"names":["blueBackground","backgroundColor","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","activeStory","activeModal","modalHistory","text","snackbar","scheme","popout","openBase","bind","assertThisInitialized","modalBack","setActiveModal","length","onStoryChange","e","setState","currentTarget","dataset","story","toConsumableArray","indexOf","splice","push","_this2","react_default","a","createElement","es6","layout","onClose","before","size","style","done_default","fill","width","height","autoclose","_this3","connect","subscribe","_ref","_ref$detail","detail","type","data","window","addEventListener","goBack","send","status_bar_style","action_bar_color","tabbar","onClick","selected","data-story","newsfeed_outline_default","add_square_outline_default","info_outline_default","id","activePanel","description","src","bottomContent","add_default","bridge","group_id","mode","flash_default","href","profile_default","asideContent","chevron_right_outline_default","notifications_default","disabled","React","Component","root","document","getElementById","platform","IOS","mVKMiniAppsScrollHelper","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.fd4081c1.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport { View, Panel, PanelHeader, ActionSheet, ActionSheetItem, Epic, Tabbar, TabbarItem, Snackbar, Cell, Button, Avatar, ModalCard, ModalRoot, CellButton, Div, Separator, InfoRow, Switch } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport Icon28NewsfeedOutline from '@vkontakte/icons/dist/28/newsfeed_outline';\r\nimport Icon28AddSquareOutline from '@vkontakte/icons/dist/28/add_square_outline';\r\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\r\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\r\nimport Icon56MoneyTransferOutline from '@vkontakte/icons/dist/56/money_transfer_outline';\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\nimport Icon28Profile from '@vkontakte/icons/dist/28/profile';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\nimport Icon28Notifications from '@vkontakte/icons/dist/28/notifications';\r\nimport Icon28ChevronRightOutline from '@vkontakte/icons/dist/28/chevron_right_outline';\r\n\r\nconst blueBackground = {\r\n\tbackgroundColor: 'var(--accent)'\r\n  };\r\nclass App extends React.Component {\r\n\tconstructor (props) {\r\n\t  super(props);\r\n  \r\n\t  this.state = {\r\n\t\tactiveStory: 'feed',\r\n\t\tactiveModal: null,\r\n\t\tmodalHistory: [],\r\n\t\ttext: '',\r\n\t  snackbar: null,\r\n\t  scheme: \"bright_light\",\r\n\t  popout: null\r\n    };\r\n\t\r\n\r\n\t  this.openBase = this.openBase.bind(this);\r\n\t  this.modalBack = () => {\r\n\t\tthis.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n\t  };\r\n\t\r\n\r\n\t  this.onStoryChange = this.onStoryChange.bind(this);\r\n\t}\r\n  \r\n\tcomponentDidMount() {\r\n\t\tthis.openBase()\r\n\t  }\r\n\r\n\tonStoryChange (e) {\r\n\t  this.setState({ activeStory: e.currentTarget.dataset.story })\r\n\t}\r\n  \r\n\tsetActiveModal(activeModal) {\r\n\t\tactiveModal = activeModal || null;\r\n\t\tlet modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n\t\r\n\t\tif (activeModal === null) {\r\n\t\t  modalHistory = [];\r\n\t\t} else if (modalHistory.indexOf(activeModal) !== -1) {\r\n\t\t  modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n\t\t} else {\r\n\t\t  modalHistory.push(activeModal);\r\n\t\t}\r\n\t\r\n\t\tthis.setState({\r\n\t\t  activeModal,\r\n\t\t  modalHistory\r\n\t\t});\r\n\t  };\r\n\t  openBase () {\r\n\t\tif (this.state.snackbar) return;\r\n\t\tthis.setState({ snackbar:\r\n\t\t  <Snackbar\r\n\t\t\tlayout=\"vertical\"\r\n\t\t\tonClose={() => this.setState({ snackbar: null })}\r\n\t\t\tbefore={<Avatar size={24} style={blueBackground}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n\t\t  >\r\n\t\t\tУведомления о подкастах включены\r\n\t\t  </Snackbar>\r\n\t\t});\r\n\t  this.setState({ popout:\r\n\t\t<ActionSheet onClose={() => this.setState({ popout: null })}>\r\n\t\t  <ActionSheetItem autoclose>\r\n\t\t\tПо дням\r\n\t\t  </ActionSheetItem>\r\n\t\t  <ActionSheetItem autoclose>\r\n\t\t\tПо неделям\r\n\t\t  </ActionSheetItem>\r\n\t\t  <ActionSheetItem autoclose>\r\n\t\t\tПо месяцам\r\n\t\t  </ActionSheetItem>\r\n\t\t  {/* {osname === IOS && <ActionSheetItem autoclose mode=\"cancel\">Отменить</ActionSheetItem>} */}\r\n\t\t</ActionSheet>\r\n\t  });\r\n\t}\r\n\r\n\t  componentDidMount() {\r\n        connect.subscribe(({ detail: { type, data }}) => { // Подписываемся на события.\r\n\t\t\tif (type === 'VKWebAppUpdateConfig') { // Получаем тему клиента.\r\n                this.setState({scheme: data.scheme})\r\n            }\r\n        })\r\n        window.addEventListener('popstate', () => this.goBack()); //  Добавляем обработчик события изменения истории для работы аппаратных кнопок.\r\n    }\r\n\r\n    UpdateTheme() {\r\n        if(this.state.scheme === \"bright_light\" || this.state.scheme === \"client_light\"){ // Если в стейте эти темы: \r\n            this.setState({scheme: 'space_gray'}); // меняем тему на альтернативную.\r\n            connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#000\"}); // Устанавливаем цвет статус бара на белый и экшен бара на черный.\r\n\t} else if(this.state.scheme === \"space_gray\" || this.state.scheme === \"client_dark\") {\r\n            this.setState({scheme: 'bright_light'}); // меняем тему на альтернативную.\r\n            connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\"}); // Устанавливаем цвет статус бара на черный и экшен бара на белый.\r\n        }\r\n\t}\r\n\t\r\n\r\n\trender () {\r\n\t\t\r\n  \r\n\t  return (\r\n\t\t<Epic activeStory={this.state.activeStory} tabbar={\r\n\t\t  <Tabbar>\r\n\t\t\t<TabbarItem\r\n\t\t\t  onClick={this.onStoryChange}\r\n\t\t\t  selected={this.state.activeStory === 'feed'}\r\n\t\t\t  data-story=\"feed\"\r\n\t\t\t  text=\"Новости\"\r\n\t\t\t><Icon28NewsfeedOutline /></TabbarItem>\r\n\t\t\t<TabbarItem\r\n\t\t\t  onClick={this.onStoryChange}\r\n\t\t\t  selected={this.state.activeStory === 'add_skin'}\r\n\t\t\t  data-story=\"add_skin\"\r\n\t\t\t  text=\"Предложить\"\r\n\t\t\t><Icon28AddSquareOutline /></TabbarItem>\r\n\t\t\t<TabbarItem\r\n\t\t\t  onClick={this.onStoryChange}\r\n\t\t\t  selected={this.state.activeStory === 'settings'}\r\n\t\t\t  data-story=\"settings\"\r\n\t\t\t  text=\"О нас\"\r\n\t\t\t><Icon28InfoOutline /></TabbarItem>\r\n\t\t  </Tabbar>\r\n\t\t}>\r\n\t\t  <View id=\"feed\" activePanel=\"feed\">\r\n\t\t\t<Panel id=\"feed\">\r\n\t\t\t  <PanelHeader>Главная</PanelHeader>\r\n\t\t\t  <Cell\r\n          size=\"l\"\r\n          description=\"Группа сервиса\"\r\n          before={<Avatar src=\"https://sun9-24.userapi.com/c856520/v856520080/13a615/MOxzZ-wuRFM.jpg\"/>}\r\n          bottomContent={<Button before={<Icon16Add/>} onClick={() => bridge.send(\"VKWebAppJoinGroup\", {\"group_id\": 95380950}) }>Вступить</Button>} >Nebulous</Cell>\r\n\t\t\t</Panel>\r\n\t\t  </View>\r\n\t\t  <View id=\"add_skin\" activePanel=\"add_skin\">\r\n\t\t\t<Panel id=\"add_skin\">\r\n\t\t\t  <PanelHeader>Предложить</PanelHeader>\r\n\t\t\t</Panel>\r\n\t\t  </View>\r\n\t\t  <View id=\"settings\" activePanel=\"settings\">\r\n\t\t\t<Panel id=\"settings\">\r\n\t\t\t  <PanelHeader>О нас</PanelHeader>\r\n\t\t\t  <Div>\r\n\t\t\t<CellButton mode=\"tertiary\" size=\"x1\" before={<Icon24Flash width={28} height={28} />} href=\"https://vk.com/nebulous\" >Группа ВКонтакте</CellButton>\r\n\t\t\t  </Div>\r\n\t\t\t  <Separator/>\r\n\t\t\t  <Div>\r\n\t\t\t  <Cell before={<Icon28InfoOutline />} description=\"Версия 1.0 (alpha)\">Информация</Cell>\r\n        </Div>\r\n\t\t<Separator />\r\n\t\t<Div>\r\n\t<Cell before={<Icon28Profile />} asideContent={<Button before={<Icon28ChevronRightOutline />} mode=\"tertiary\" onClick={this.openBase}></Button>} description=\"Недоступно\">Темная тема</Cell>\r\n\t<Cell before={<Icon28Notifications />} asideContent={<Switch disabled />} description=\"Недоступно\">Уведомления</Cell>\r\n\t\t\t</Div> \r\n\t\t\t</Panel>\r\n\t\t\t</View>\r\n\t\t</Epic>\r\n\t  )\r\n\t}\r\n  }\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport connect from \"@vkontakte/vk-connect\";\r\nimport App from \"./App\";\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\r\nimport {platform, IOS} from '@vkontakte/vkui';\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\nbridge.send('VKWebAppInit', {}); // Запусааем приложение\r\nconst root = document.getElementById('root');\r\nif(platform() === IOS) {\r\n    mVKMiniAppsScrollHelper(root); // Добавляем скролхелпер для Safari\r\n}\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}