{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\src\\\\App.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ConfigProvider from '@vkontakte/vkui/dist/components/ConfigProvider/ConfigProvider';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport { Panel, PanelHeader, Tabbar, TabbarItem, Epic, Button } from '@vkontakte/vkui';\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\nimport Icon28NewsfeedOutline from '@vkontakte/icons/dist/28/newsfeed_outline';\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport Settings from './panels/Settings';\nimport Main from './panels/Main';\n\nvar MainApp = function MainApp() {\n  var _useState = useState(\"bright_light\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      scheme = _useState2[0],\n      SetScheme = _useState2[1];\n\n  function goToPage(name) {\n    window.history.pushState({\n      panel: name\n    }, name);\n    setActivePanel(name);\n    history.push(name);\n  }\n\n  ;\n\n  function goBack() {\n    if (history.length === 1) {\n      connect.send(\"VKWebAppClose\");\n    } else if (history.length > 1) {\n      history.pop();\n      setActivePanel(history[history.length - 1]);\n    }\n  }\n\n  function UpdateTheme() {\n    if (scheme === \"bright_light\" || scheme === \"client_light\") {\n      SetScheme('space_gray');\n      connect.send(\"VKWebAppSetViewSettings\", {\n        \"status_bar_style\": \"light\",\n        \"action_bar_color\": \"#000\"\n      });\n    } else if (scheme === \"space_gray\" || scheme === \"client_dark\") {\n      SetScheme('bright_light');\n      connect.send(\"VKWebAppSetViewSettings\", {\n        \"status_bar_style\": \"dark\",\n        \"action_bar_color\": \"#fff\"\n      });\n    }\n  }\n\n  useEffect(function () {\n    window.addEventListener('popstate', function () {\n      return goBack();\n    }); //  Добавляем обработчик события изменения истории для работы аппаратных кнопок.\n\n    connect.subscribe(function (_ref) {\n      var _ref$detail = _ref.detail,\n          type = _ref$detail.type,\n          data = _ref$detail.data;\n\n      if (type === 'VKWebAppUpdateConfig') {\n        SetScheme(data.scheme);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(ConfigProvider, {\n    isWebView: true,\n    scheme: _this.state.scheme,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Epic, {\n    activeStory: _this.state.activeStory,\n    scheme: _this.state.scheme,\n    tabbar: /*#__PURE__*/React.createElement(Tabbar, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TabbarItem, {\n      onClick: _this.onStoryChange,\n      selected: _this.state.activeStory === 'feed',\n      \"data-story\": \"feed\",\n      text: \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Icon28NewsfeedOutline, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 10\n      }\n    })), /*#__PURE__*/React.createElement(TabbarItem, {\n      onClick: _this.onStoryChange,\n      selected: _this.state.activeStory === 'add_skin',\n      \"data-story\": \"add_skin\",\n      text: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u043A\\u0438\\u043D\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Icon28AddOutline, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 10\n      }\n    })), /*#__PURE__*/React.createElement(TabbarItem, {\n      onClick: _this.onStoryChange,\n      selected: _this.state.activeStory === 'settings',\n      \"data-story\": \"settings\",\n      label: \"12\",\n      text: \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Icon28SettingsOutline, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 10\n      }\n    }))),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(View, {\n    id: \"feed\",\n    activePanel: \"feed\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Panel, {\n    id: \"feed\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Main, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(View, {\n    id: \"add_skin\",\n    activePanel: \"add_skin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Panel, {\n    id: \"add_skin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PanelHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u043A\\u0438\\u043D\"))), /*#__PURE__*/React.createElement(View, {\n    id: \"settings\",\n    activePanel: \"settings\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Panel, {\n    id: \"settings\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PanelHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"), /*#__PURE__*/React.createElement(Settings, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })))));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Павел/Desktop/vkapp/nebuskins/src/App.js"],"names":["React","useState","useEffect","connect","View","ConfigProvider","Panel","PanelHeader","Tabbar","TabbarItem","Epic","Button","Icon28AddOutline","Icon28NewsfeedOutline","Icon28SettingsOutline","Settings","Main","MainApp","scheme","SetScheme","goToPage","name","window","history","pushState","panel","setActivePanel","push","goBack","length","send","pop","UpdateTheme","addEventListener","subscribe","detail","type","data","state","activeStory","onStoryChange","App"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\nimport ConfigProvider from '@vkontakte/vkui/dist/components/ConfigProvider/ConfigProvider';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport { Panel, PanelHeader, Tabbar, TabbarItem, Epic, Button } from '@vkontakte/vkui';\r\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\r\nimport Icon28NewsfeedOutline from '@vkontakte/icons/dist/28/newsfeed_outline';\r\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\r\n\r\nimport Settings from './panels/Settings';\r\nimport Main from './panels/Main';\r\n\r\n\r\nconst MainApp = () => {\r\n\tconst [scheme, SetScheme] = useState(\"bright_light\")\r\n\t\r\n\tfunction goToPage(name) {\r\n\t\twindow.history.pushState({panel: name}, name)\r\n\t\tsetActivePanel(name);\r\n\t\thistory.push(name)\r\n\t};\r\n\r\n\tfunction goBack() {\r\n  \t\tif(history.length === 1){\r\n    \t\tconnect.send(\"VKWebAppClose\");\r\n  \t\t} else if(history.length > 1){\r\n\t\t\thistory.pop()\r\n\t\t\tsetActivePanel(history[history.length - 1])\r\n  \t\t}\r\n\t}\r\n\r\n\tfunction UpdateTheme() {\r\n\t\t\tif(scheme === \"bright_light\" || scheme === \"client_light\") {\r\n\t\t\t\tSetScheme('space_gray');\r\n\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#000\"});\r\n\t\t\t}\r\n\t\t\telse if(scheme === \"space_gray\" || scheme === \"client_dark\"){\r\n\t\t\t\tSetScheme('bright_light');\r\n\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\"});\r\n\t\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n        window.addEventListener('popstate', () => goBack()); //  Добавляем обработчик события изменения истории для работы аппаратных кнопок.\r\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\r\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\t\tSetScheme(data.scheme)\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\t \r\n\treturn (\r\n    <ConfigProvider isWebView={true} scheme={this.state.scheme}>\r\n    <Epic activeStory={this.state.activeStory} scheme={this.state.scheme} tabbar={\r\n      <Tabbar>\r\n        <TabbarItem\r\n          onClick={this.onStoryChange}\r\n          selected={this.state.activeStory === 'feed'}\r\n          data-story=\"feed\"\r\n          text=\"Главная\"\r\n        ><Icon28NewsfeedOutline /></TabbarItem>\r\n        <TabbarItem\r\n          onClick={this.onStoryChange}\r\n          selected={this.state.activeStory === 'add_skin'}\r\n          data-story=\"add_skin\"\r\n          text=\"Добавить скин\"\r\n        ><Icon28AddOutline /></TabbarItem>\r\n        <TabbarItem\r\n          onClick={this.onStoryChange}\r\n          selected={this.state.activeStory === 'settings'}\r\n          data-story=\"settings\"\r\n          label=\"12\"\r\n          text=\"Настройки\"\r\n        ><Icon28SettingsOutline /></TabbarItem>\r\n      </Tabbar>\r\n    }>\r\n      <View id=\"feed\" activePanel=\"feed\">\r\n        <Panel  id=\"feed\">\r\n          <Main />\r\n        </Panel>\r\n      </View>\r\n      <View id=\"add_skin\"  activePanel=\"add_skin\">\r\n        <Panel  id=\"add_skin\">\r\n          <PanelHeader>Добавить скин</PanelHeader>\r\n        </Panel>\r\n      </View>\r\n      <View id=\"settings\"  activePanel=\"settings\">\r\n        <Panel  id=\"settings\">\r\n        <PanelHeader>Настройки</PanelHeader>\r\n          <Settings />\r\n        </Panel>\r\n      </View>\r\n    </Epic>\r\n  </ConfigProvider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}