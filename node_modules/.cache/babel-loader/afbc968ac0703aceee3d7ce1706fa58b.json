{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _dom = require(\"../../lib/dom\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _ConfigProviderContext = require(\"./ConfigProviderContext\");\n\nvar _vkBridge = _interopRequireDefault(require(\"@vkontakte/vk-bridge\"));\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar ConfigProvider = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2.default)(ConfigProvider, _React$Component);\n\n  var _super = _createSuper(ConfigProvider);\n\n  function ConfigProvider(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, ConfigProvider);\n    _this = _super.call(this, props);\n\n    if (_dom.canUseDOM) {\n      _this.setScheme(props.scheme);\n    }\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(ConfigProvider, [{\n    key: \"mapOldScheme\",\n    value: function mapOldScheme(scheme) {\n      switch (scheme) {\n        case _ConfigProviderContext.Scheme.DEPRECATED_CLIENT_LIGHT:\n          return _ConfigProviderContext.Scheme.BRIGHT_LIGHT;\n\n        case _ConfigProviderContext.Scheme.DEPRECATED_CLIENT_DARK:\n          return _ConfigProviderContext.Scheme.SPACE_GRAY;\n\n        default:\n          return scheme;\n      }\n    }\n  }, {\n    key: \"setScheme\",\n    value: function setScheme(scheme) {\n      document.body.setAttribute('scheme', scheme);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.scheme !== this.props.scheme) {\n        this.setScheme(this.mapOldScheme(this.props.scheme));\n      }\n    }\n  }, {\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        isWebView: this.props.isWebView,\n        webviewType: this.props.webviewType,\n        scheme: this.mapOldScheme(this.props.scheme),\n        appearance: this.props.appearance,\n        app: this.props.app\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_react.default.createElement(_ConfigProviderContext.ConfigProviderContext.Provider, {\n        value: this.getChildContext()\n      }, this.props.children);\n    }\n  }]);\n  return ConfigProvider;\n}(_react.default.Component);\n\nexports.default = ConfigProvider;\n(0, _defineProperty2.default)(ConfigProvider, \"defaultProps\", {\n  webviewType: _ConfigProviderContext.WebviewType.VKAPPS,\n  isWebView: _vkBridge.default.isWebView(),\n  scheme: _ConfigProviderContext.Scheme.BRIGHT_LIGHT,\n  appearance: _ConfigProviderContext.Appearance.LIGHT\n});\n(0, _defineProperty2.default)(ConfigProvider, \"childContextTypes\", {\n  isWebView: _propTypes.default.bool,\n  scheme: _propTypes.default.oneOf([_ConfigProviderContext.Scheme.SPACE_GRAY, _ConfigProviderContext.Scheme.BRIGHT_LIGHT, _ConfigProviderContext.Scheme.DEPRECATED_CLIENT_DARK, _ConfigProviderContext.Scheme.DEPRECATED_CLIENT_LIGHT]),\n  webviewType: _propTypes.default.oneOf([_ConfigProviderContext.WebviewType.VKAPPS, _ConfigProviderContext.WebviewType.INTERNAL]),\n  appearance: _propTypes.default.oneOf([_ConfigProviderContext.Appearance.DARK, _ConfigProviderContext.Appearance.LIGHT]),\n  app: _propTypes.default.string\n});","map":null,"metadata":{},"sourceType":"script"}