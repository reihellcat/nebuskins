{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\src\\\\panels\\\\AddSkin\\\\ImageUploaderSkins.js\";\nimport React from 'react';\nimport { View, Progress, File, Div } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport FileUploader from 'react-firebase-file-uploader';\nimport firebase from 'firebase';\n\nvar ImageUploaderSkins = /*#__PURE__*/function (_React$Component) {\n  _inherits(ImageUploaderSkins, _React$Component);\n\n  function ImageUploaderSkins() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ImageUploaderSkins);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ImageUploaderSkins)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      image: '',\n      imageURL: '',\n      progress: 0\n    };\n\n    _this.handleUploadStart = function () {\n      _this.setState({\n        progress: 0\n      });\n    };\n\n    _this.handleUploadSuccess = function (filename) {\n      _this.setState({\n        image: filename,\n        progress: 100\n      });\n\n      firebase.storage().ref('avatars').child(filename).getDownloadURL().then(function (url) {\n        return _this.setState({\n          imageURL: url\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ImageUploaderSkins, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(View, {\n        id: \"file_uploader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Div, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FileUploader, {\n        accept: \"image/*\",\n        name: \"image\",\n        storageRef: firebase.storage().ref('avatars'),\n        onUploadStart: this.handleUploadStart,\n        onUploadSuccess: this.handleUploadSuccess,\n        title: \"uifue\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }\n      })), /*#__PURE__*/React.createElement(Div, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 1\n        }\n      }, /*#__PURE__*/React.createElement(Progress, {\n        value: this.state.progress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 1\n        }\n      })));\n    }\n  }]);\n\n  return ImageUploaderSkins;\n}(React.Component);\n\nexport default ImageUploaderSkins;","map":{"version":3,"sources":["C:/Users/Павел/Desktop/vkapp/nebuskins/src/panels/AddSkin/ImageUploaderSkins.js"],"names":["React","View","Progress","File","Div","FileUploader","firebase","ImageUploaderSkins","state","image","imageURL","progress","handleUploadStart","setState","handleUploadSuccess","filename","storage","ref","child","getDownloadURL","then","url","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,EAAcC,QAAd,EAAwBC,IAAxB,EAA8BC,GAA9B,QAAwC,iBAAxC;AACA,OAAO,+BAAP;AAEA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,QAAP,MAAqB,UAArB;;IAGMC,kB;;;;;;;;;;;;;;;UAEFC,K,GAAQ;AACPC,MAAAA,KAAK,EAAE,EADA;AAEPC,MAAAA,QAAQ,EAAE,EAFH;AAGPC,MAAAA,QAAQ,EAAE;AAHH,K;;UAMZC,iB,GAAoB,YAAM;AAEtB,YAAKC,QAAL,CAAc;AACVF,QAAAA,QAAQ,EAAE;AADA,OAAd;AAGH,K;;UAEDG,mB,GAAsB,UAAAC,QAAQ,EAAI;AAC9B,YAAKF,QAAL,CAAc;AACVJ,QAAAA,KAAK,EAAEM,QADG;AAEVJ,QAAAA,QAAQ,EAAE;AAFA,OAAd;;AAKAL,MAAAA,QAAQ,CAACU,OAAT,GAAmBC,GAAnB,CAAuB,SAAvB,EAAkCC,KAAlC,CAAwCH,QAAxC,EAAkDI,cAAlD,GACCC,IADD,CACM,UAAAC,GAAG;AAAA,eAAI,MAAKR,QAAL,CAAc;AACvBH,UAAAA,QAAQ,EAAEW;AADa,SAAd,CAAJ;AAAA,OADT;AAKH,K;;;;;;;6BAEQ;AACL,0BACI,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACJ,oBAAC,YAAD;AACI,QAAA,MAAM,EAAC,SADX;AAEI,QAAA,IAAI,EAAC,OAFT;AAGI,QAAA,UAAU,EAAEf,QAAQ,CAACU,OAAT,GAAmBC,GAAnB,CAAuB,SAAvB,CAHhB;AAII,QAAA,aAAa,EAAE,KAAKL,iBAJxB;AAKI,QAAA,eAAe,EAAE,KAAKE,mBAL1B;AAMI,QAAA,KAAK,EAAC,OANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADI,CADJ,eAYR,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,QAAD;AACY,QAAA,KAAK,EAAE,KAAKN,KAAL,CAAWG,QAD9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CAZQ,CADJ;AAmBH;;;;EAhDgCX,KAAK,CAACsB,S;;AAmDvC,eAAef,kBAAf","sourcesContent":["import React from 'react';\r\nimport {View, Progress, File, Div} from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport FileUploader from 'react-firebase-file-uploader';\r\nimport firebase from 'firebase';\r\n\r\n\r\nclass ImageUploaderSkins extends React.Component {\r\n    \r\n    state = {\r\n     image: '',\r\n     imageURL: '',\r\n     progress: 0\r\n}\r\n\r\nhandleUploadStart = () => {\r\n    \r\n    this.setState({\r\n        progress: 0\r\n    })\r\n}\r\n\r\nhandleUploadSuccess = filename => {\r\n    this.setState({\r\n        image: filename,\r\n        progress: 100\r\n    })\r\n\r\n    firebase.storage().ref('avatars').child(filename).getDownloadURL()\r\n    .then(url => this.setState({\r\n        imageURL: url\r\n    }))\r\n\r\n}\r\n\r\nrender() {\r\n    return (\r\n        <View id=\"file_uploader\">\r\n            <Div>\r\n        <FileUploader\r\n            accept=\"image/*\" \r\n            name='image'\r\n            storageRef={firebase.storage().ref('avatars')}\r\n            onUploadStart={this.handleUploadStart}\r\n            onUploadSuccess={this.handleUploadSuccess}\r\n            title=\"uifue\"\r\n            \r\n></FileUploader>\r\n</Div>\r\n<Div>\r\n<Progress\r\n            value={this.state.progress}/>\r\n</Div>\r\n</View>\r\n    )\r\n}\r\n}\r\n\r\nexport default ImageUploaderSkins;\r\n"]},"metadata":{},"sourceType":"module"}