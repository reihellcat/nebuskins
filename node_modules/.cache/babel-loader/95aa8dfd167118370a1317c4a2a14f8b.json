{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _slicedToArray from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport { Tabbar, TabbarItem, Panel, PanelHeader, Button } from '@vkontakte/vkui';\nimport Epic from '@vkontakte/vkui/dist/components/Epic/Epic.js';\nimport Icon28MessageOutline from '@vkontakte/icons/dist/28/message_outline.js';\nimport Icon28SearchOutline from '@vkontakte/icons/dist/28/search_outline.js';\nimport Icon28NewsfeedOutline from '@vkontakte/icons/dist/28/newsfeed_outline.js';\nexport default App;\n\nvar App = function App() {\n  var _useState = useState(\"feed\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      activePanel = _useState2[0],\n      setActivePanel = _useState2[1];\n\n  var _useState3 = useState(\"space_gray\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      scheme = _useState4[0],\n      SetScheme = _useState4[1];\n\n  var _useState5 = useState(['feed']),\n      _useState6 = _slicedToArray(_useState5, 2),\n      history = _useState6[0],\n      setHistory = _useState6[1];\n\n  function goToPage(name) {\n    window.history.pushState({\n      panel: name\n    }, name);\n    setActivePanel(name);\n    history.push(name);\n  }\n\n  ;\n\n  function goBack() {\n    if (history.length === 1) {\n      connect.send(\"VKWebAppClose\");\n    } else if (history.length > 1) {\n      history.pop();\n      setActivePanel(history[history.length - 1]);\n    }\n  }\n\n  function UpdateTheme() {\n    if (scheme === \"bright_light\" || scheme === \"client_light\") {\n      SetScheme('space_gray');\n      connect.send(\"VKWebAppSetViewSettings\", {\n        \"status_bar_style\": \"light\",\n        \"action_bar_color\": \"#000\"\n      });\n    } else if (scheme === \"space_gray\" || scheme === \"client_dark\") {\n      SetScheme('bright_light');\n      connect.send(\"VKWebAppSetViewSettings\", {\n        \"status_bar_style\": \"dark\",\n        \"action_bar_color\": \"#fff\"\n      });\n    }\n  }\n\n  useEffect(function () {\n    window.addEventListener('popstate', function () {\n      return goBack();\n    }); //  Добавляем обработчик события изменения истории для работы аппаратных кнопок.\n\n    connect.subscribe(function (_ref) {\n      var _ref$detail = _ref.detail,\n          type = _ref$detail.type,\n          data = _ref$detail.data;\n\n      if (type === 'VKWebAppUpdateConfig') {\n        SetScheme(data.scheme);\n      }\n    });\n  }, []);\n\n  var App = /*#__PURE__*/function (_React$Component) {\n    _inherits(App, _React$Component);\n\n    function App(props) {\n      var _this;\n\n      _classCallCheck(this, App);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n      _this.state = {\n        scheme: \"bright_light\" // Если нам не придет тема - ставим эту по умолчанию.\n\n      };\n      _this.state = {\n        activeStory: 'feed'\n      };\n      _this.onStoryChange = _this.onStoryChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n      return _this;\n    }\n\n    _createClass(App, [{\n      key: \"onStoryChange\",\n      value: function onStoryChange(e) {\n        this.setState({\n          activeStory: e.currentTarget.dataset.story\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return /*#__PURE__*/React.createElement(Epic, {\n          activeStory: this.state.activeStory,\n          tabbar: /*#__PURE__*/React.createElement(Tabbar, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(TabbarItem, {\n            onClick: this.onStoryChange,\n            selected: this.state.activeStory === 'feed',\n            \"data-story\": \"feed\",\n            text: \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Icon28NewsfeedOutline, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 16\n            }\n          })), /*#__PURE__*/React.createElement(TabbarItem, {\n            onClick: this.onStoryChange,\n            selected: this.state.activeStory === 'discover',\n            \"data-story\": \"discover\",\n            text: \"\\u041F\\u043E\\u0438\\u0441\\u043A\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Icon28SearchOutline, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 16\n            }\n          })), /*#__PURE__*/React.createElement(TabbarItem, {\n            onClick: this.onStoryChange,\n            selected: this.state.activeStory === 'messages',\n            \"data-story\": \"messages\",\n            label: \"12\",\n            text: \"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Icon28MessageOutline, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 16\n            }\n          }))),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(View, {\n          id: \"feed\",\n          activePanel: \"feed\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Panel, {\n          id: \"feed\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(PanelHeader, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }\n        }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"), /*#__PURE__*/React.createElement(\"img\", {\n          height: \"100%\",\n          width: \"100%\",\n          src: \"https://sun9-63.userapi.com/c857020/v857020827/13946f/aMol-HoR2Fw.jpg\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }\n        }), /*#__PURE__*/React.createElement(Button, {\n          size: \"xl\",\n          mode: \"secondary\",\n          marginTop: \"15px\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }\n        }, \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u0432 \\u0433\\u0440\\u0443\\u043F\\u043F\\u0443\"), /*#__PURE__*/React.createElement(Button, {\n          onClick: function onClick() {\n            return _this2.UpdateTheme();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }\n        }, \"\\u0410\\u043B\\u044C\\u0442\\u0435\\u0440\\u043D\\u0430\\u0442\\u0438\\u0432\\u043D\\u0430\\u044F \\u0442\\u0435\\u043C\\u0430\"))), /*#__PURE__*/React.createElement(View, {\n          id: \"discover\",\n          activePanel: \"discover\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Panel, {\n          id: \"discover\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(PanelHeader, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }\n        }, \"\\u041F\\u043E\\u0438\\u0441\\u043A\"))), /*#__PURE__*/React.createElement(View, {\n          id: \"messages\",\n          activePanel: \"messages\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Panel, {\n          id: \"messages\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(PanelHeader, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }\n        }, \"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F\"))));\n      }\n    }]);\n\n    return App;\n  }(React.Component);\n};","map":{"version":3,"sources":["C:/Users/Павел/Desktop/vkapp/nebuskins/src/App.js"],"names":["React","useState","useEffect","connect","View","Tabbar","TabbarItem","Panel","PanelHeader","Button","Epic","Icon28MessageOutline","Icon28SearchOutline","Icon28NewsfeedOutline","App","activePanel","setActivePanel","scheme","SetScheme","history","setHistory","goToPage","name","window","pushState","panel","push","goBack","length","send","pop","UpdateTheme","addEventListener","subscribe","detail","type","data","props","state","activeStory","onStoryChange","bind","e","setState","currentTarget","dataset","story","Component"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport { Tabbar, TabbarItem, Panel, PanelHeader, Button } from '@vkontakte/vkui';\r\nimport Epic from '@vkontakte/vkui/dist/components/Epic/Epic.js';\r\nimport Icon28MessageOutline from '@vkontakte/icons/dist/28/message_outline.js';\r\nimport Icon28SearchOutline from '@vkontakte/icons/dist/28/search_outline.js';\r\nimport Icon28NewsfeedOutline from '@vkontakte/icons/dist/28/newsfeed_outline.js';\r\n\r\nexport default App;\r\n\r\nconst App = () => {\r\n\tconst [activePanel, setActivePanel] = useState(\"feed\");\r\n\tconst [scheme, SetScheme] = useState(\"space_gray\")\r\n\tconst [history, setHistory] = useState(['feed'])\r\n\t\r\n\tfunction goToPage(name) {\r\n\t\twindow.history.pushState({panel: name}, name)\r\n\t\tsetActivePanel(name);\r\n\t\thistory.push(name)\r\n\t};\r\n\r\n\tfunction goBack() {\r\n  \t\tif(history.length === 1){\r\n    \t\tconnect.send(\"VKWebAppClose\");\r\n  \t\t} else if(history.length > 1){\r\n\t\t\thistory.pop()\r\n\t\t\tsetActivePanel(history[history.length - 1])\r\n  \t\t}\r\n\t}\r\n\r\n\tfunction UpdateTheme() {\r\n\t\t\tif(scheme === \"bright_light\" || scheme === \"client_light\") {\r\n\t\t\t\tSetScheme('space_gray');\r\n\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#000\"});\r\n\t\t\t}\r\n\t\t\telse if(scheme === \"space_gray\" || scheme === \"client_dark\"){\r\n\t\t\t\tSetScheme('bright_light');\r\n\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\"});\r\n\t\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n        window.addEventListener('popstate', () => goBack()); //  Добавляем обработчик события изменения истории для работы аппаратных кнопок.\r\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\r\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\t\tSetScheme(data.scheme)\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\t \r\n\r\nclass App extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            scheme: \"bright_light\" // Если нам не придет тема - ставим эту по умолчанию.\r\n         }\r\n\r\n        this.state = {\r\n          activeStory: 'feed'\r\n        };\r\n        this.onStoryChange = this.onStoryChange.bind(this);\r\n      }\r\n    \r\n      onStoryChange (e) {\r\n        this.setState({ activeStory: e.currentTarget.dataset.story })\r\n      }\r\n    render() {\r\n      return(\r\n        <Epic activeStory={this.state.activeStory} tabbar={\r\n            <Tabbar>\r\n              <TabbarItem\r\n                onClick={this.onStoryChange}\r\n                selected={this.state.activeStory === 'feed'}\r\n                data-story=\"feed\"\r\n                text=\"Новости\"\r\n              ><Icon28NewsfeedOutline /></TabbarItem>\r\n              <TabbarItem\r\n                onClick={this.onStoryChange}\r\n                selected={this.state.activeStory === 'discover'}\r\n                data-story=\"discover\"\r\n                text=\"Поиск\"\r\n              ><Icon28SearchOutline /></TabbarItem>\r\n              <TabbarItem\r\n                onClick={this.onStoryChange}\r\n                selected={this.state.activeStory === 'messages'}\r\n                data-story=\"messages\"\r\n                label=\"12\"\r\n                text=\"Сообщения\"\r\n              ><Icon28MessageOutline /></TabbarItem>\r\n            </Tabbar>\r\n          }>\r\n            <View id=\"feed\" activePanel=\"feed\">\r\n              <Panel id=\"feed\">\r\n                <PanelHeader>Новости</PanelHeader>\r\n                <img height=\"100%\" width=\"100%\" src=\"https://sun9-63.userapi.com/c857020/v857020827/13946f/aMol-HoR2Fw.jpg\"/>\r\n                <Button size=\"xl\" mode=\"secondary\" marginTop=\"15px\">Перейти в группу</Button>\r\n                <Button onClick={() => this.UpdateTheme()}>Альтернативная тема</Button>\r\n              </Panel>\r\n            </View>\r\n            <View id=\"discover\" activePanel=\"discover\">\r\n              <Panel id=\"discover\">\r\n                <PanelHeader>Поиск</PanelHeader>\r\n              </Panel>\r\n            </View>\r\n            <View id=\"messages\" activePanel=\"messages\">\r\n              <Panel id=\"messages\">\r\n                <PanelHeader>Сообщения</PanelHeader>\r\n              </Panel>\r\n            </View>\r\n          </Epic>\r\n        )\r\n      }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}