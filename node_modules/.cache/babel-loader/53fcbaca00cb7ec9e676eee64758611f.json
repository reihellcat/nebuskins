{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\u041F\\u0430\\u0432\\u0435\\u043B\\\\Desktop\\\\vkapp\\\\nebuskins\\\\src\\\\App.js\";\nimport React from 'react';\nimport props from 'prop-types';\nimport connect from '@vkontakte/vkui-connect';\nimport { View, Panel, PanelHeader, Tabbar, TabbarItem, Epic, Button } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Icon28NewsfeedOutline from '@vkontakte/icons/dist/28/newsfeed_outline';\nimport Icon28SearchOutline from '@vkontakte/icons/dist/28/search_outline';\nimport Icon28MessageOutline from '@vkontakte/icons/dist/28/message_outline';\n\nvar App = /*#__PURE__*/function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      scheme: \"bright_light\",\n      activeStory: 'feed'\n    };\n    _this.onStoryChange = _this.onStoryChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      connect.subscribe(function (_ref) {\n        var _ref$detail = _ref.detail,\n            type = _ref$detail.type,\n            data = _ref$detail.data;\n\n        // Подписываемся на события.\n        if (type === 'VKWebAppUpdateConfig') {\n          // Получаем тему клиента.\n          _this2.setState({\n            scheme: data.scheme\n          });\n        }\n      });\n      window.addEventListener('popstate', function () {\n        return _this2.goBack();\n      }); //  Добавляем обработчик события изменения истории для работы аппаратных кнопок.\n    }\n  }, {\n    key: \"UpdateTheme\",\n    value: function UpdateTheme() {\n      if (this.state.scheme === \"bright_light\" || this.state.scheme === \"client_light\") {\n        // Если в стейте эти темы: \n        this.setState({\n          scheme: 'space_gray'\n        }); // меняем тему на альтернативную.\n\n        connect.send(\"VKWebAppSetViewSettings\", {\n          \"status_bar_style\": \"light\",\n          \"action_bar_color\": \"#000\"\n        }); // Устанавливаем цвет статус бара на белый и экшен бара на черный.\n      } else if (this.state.scheme === \"space_gray\" || this.state.scheme === \"client_dark\") {\n        this.setState({\n          scheme: 'bright_light'\n        }); // меняем тему на альтернативную.\n\n        connect.send(\"VKWebAppSetViewSettings\", {\n          \"status_bar_style\": \"dark\",\n          \"action_bar_color\": \"#fff\"\n        }); // Устанавливаем цвет статус бара на черный и экшен бара на белый.\n      }\n    }\n  }, {\n    key: \"onStoryChange\",\n    value: function onStoryChange(e) {\n      this.setState({\n        activeStory: e.currentTarget.dataset.story\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Epic, {\n        activeStory: this.state.activeStory,\n        scheme: this.state.scheme,\n        tabbar: /*#__PURE__*/React.createElement(Tabbar, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(TabbarItem, {\n          onClick: this.onStoryChange,\n          selected: this.state.activeStory === 'feed',\n          \"data-story\": \"feed\",\n          text: \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Icon28NewsfeedOutline, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 14\n          }\n        })), /*#__PURE__*/React.createElement(TabbarItem, {\n          onClick: this.onStoryChange,\n          selected: this.state.activeStory === 'discover',\n          \"data-story\": \"discover\",\n          text: \"\\u041F\\u043E\\u0438\\u0441\\u043A\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Icon28SearchOutline, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 14\n          }\n        })), /*#__PURE__*/React.createElement(TabbarItem, {\n          onClick: this.onStoryChange,\n          selected: this.state.activeStory === 'messages',\n          \"data-story\": \"messages\",\n          text: \"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Icon28MessageOutline, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 14\n          }\n        }))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(View, {\n        id: \"feed\",\n        activePanel: \"feed\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Panel, {\n        id: \"feed\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(PanelHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"))), /*#__PURE__*/React.createElement(View, {\n        id: \"discover\",\n        activePanel: \"discover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Panel, {\n        id: \"discover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(PanelHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }\n      }, \"\\u041F\\u043E\\u0438\\u0441\\u043A\"))), /*#__PURE__*/React.createElement(View, {\n        id: \"messages\",\n        activePanel: \"messages\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Panel, {\n        id: \"messages\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(PanelHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      }, \"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          return props.this.UpdateTheme();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }\n      }, \"\\u0412\\u0441\\u0435\\u043C \\u043F\\u0440\\u0438\\u0432\\u0435\\u0442\")))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Павел/Desktop/vkapp/nebuskins/src/App.js"],"names":["React","props","connect","View","Panel","PanelHeader","Tabbar","TabbarItem","Epic","Button","Icon28NewsfeedOutline","Icon28SearchOutline","Icon28MessageOutline","App","state","scheme","activeStory","onStoryChange","bind","subscribe","detail","type","data","setState","window","addEventListener","goBack","send","e","currentTarget","dataset","story","this","UpdateTheme","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport props from 'prop-types';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport {View, Panel, PanelHeader, Tabbar, TabbarItem, Epic, Button} from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport Icon28NewsfeedOutline from '@vkontakte/icons/dist/28/newsfeed_outline';\r\nimport Icon28SearchOutline from '@vkontakte/icons/dist/28/search_outline';\r\nimport Icon28MessageOutline from '@vkontakte/icons/dist/28/message_outline';\r\n\r\nclass App extends React.Component {\r\n    constructor (props) {\r\n      super(props);\r\n      this.state = {\r\n        scheme: \"bright_light\",\r\n        activeStory: 'feed'\r\n    };\r\n    this.onStoryChange = this.onStoryChange.bind(this);\r\n    }\r\n\r\ncomponentDidMount() {\r\n    connect.subscribe(({ detail: { type, data }}) => { // Подписываемся на события.\r\n        if (type === 'VKWebAppUpdateConfig') { // Получаем тему клиента.\r\n            this.setState({scheme: data.scheme})\r\n        }\r\n    })\r\n    window.addEventListener('popstate', () => this.goBack()); //  Добавляем обработчик события изменения истории для работы аппаратных кнопок.\r\n}\r\n\r\nUpdateTheme() {\r\n    if(this.state.scheme === \"bright_light\" || this.state.scheme === \"client_light\"){ // Если в стейте эти темы: \r\n        this.setState({scheme: 'space_gray'}); // меняем тему на альтернативную.\r\n        connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#000\"}); // Устанавливаем цвет статус бара на белый и экшен бара на черный.\r\n} else if(this.state.scheme === \"space_gray\" || this.state.scheme === \"client_dark\") {\r\n        this.setState({scheme: 'bright_light'}); // меняем тему на альтернативную.\r\n        connect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\"}); // Устанавливаем цвет статус бара на черный и экшен бара на белый.\r\n    }\r\n }\r\n  \r\n    onStoryChange (e) {\r\n      this.setState({ activeStory: e.currentTarget.dataset.story })\r\n    }\r\n  \r\n    render () {\r\n      return (\r\n        <Epic activeStory={this.state.activeStory} scheme={this.state.scheme} tabbar={\r\n          <Tabbar>\r\n            <TabbarItem\r\n              onClick={this.onStoryChange}\r\n              selected={this.state.activeStory === 'feed'}\r\n              data-story=\"feed\"\r\n              text=\"Новости\"\r\n            ><Icon28NewsfeedOutline /></TabbarItem>\r\n            <TabbarItem\r\n              onClick={this.onStoryChange}\r\n              selected={this.state.activeStory === 'discover'}\r\n              data-story=\"discover\"\r\n              text=\"Поиск\"\r\n            ><Icon28SearchOutline /></TabbarItem>\r\n            <TabbarItem\r\n              onClick={this.onStoryChange}\r\n              selected={this.state.activeStory === 'messages'}\r\n              data-story=\"messages\"\r\n              text=\"Сообщения\"\r\n            ><Icon28MessageOutline /></TabbarItem>\r\n          </Tabbar>\r\n        }>\r\n          <View id=\"feed\" activePanel=\"feed\">\r\n            <Panel id=\"feed\">\r\n              <PanelHeader>Новости</PanelHeader>\r\n            </Panel>\r\n          </View>\r\n          <View id=\"discover\" activePanel=\"discover\">\r\n            <Panel id=\"discover\">\r\n              <PanelHeader>Поиск</PanelHeader>\r\n            </Panel>\r\n          </View>\r\n          <View id=\"messages\" activePanel=\"messages\">\r\n            <Panel id=\"messages\">\r\n              <PanelHeader>Сообщения</PanelHeader>\r\n              <div>\r\n              <Button onClick={() => props.this.UpdateTheme()}>Всем привет</Button>\r\n            </div>\r\n            </Panel>\r\n            </View>\r\n        </Epic>\r\n      )\r\n    }\r\n  }\r\n  \r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}